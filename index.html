<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>#AFILIADOS MERCADO LIVRE - MARANH√ÉO</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* Estilos Gerais e Reset */
* { box-sizing: border-box; font-family: 'Inter', sans-serif; }
body { margin:0; background:#fefce8; color:#1f2937; padding:20px; }

/* Barra de Data e Hora Neon */
#barraHora {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  padding: 10px 0;
  background: #000;
  text-align: center;
  font-size: 1.2rem;
  font-weight: bold;
  color: #ffff00;
  text-shadow: 0 0 5px #ffff00, 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #ffff00;
  z-index: 999;
  animation: neonGlow 1.5s ease-in-out infinite alternate;
}

@keyframes neonGlow {
  0% { text-shadow: 0 0 5px #ffff00, 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #ffff00; }
  50% { text-shadow: 0 0 10px #ffff00, 0 0 15px #00f, 0 0 25px #00f, 0 0 35px #ffff00; }
  100% { text-shadow: 0 0 5px #ffff00, 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #ffff00; }
}

/* Cabe√ßalho */
header { text-align:center; margin:50px 0 30px 0; }
header img { max-width:100%; height:auto; margin-bottom:10px; border-radius:10px; }
header h1 { font-size:1.8rem; color:#1e3a8a; margin:0; font-weight:700; }
header p { color:#374151; margin:5px 0 0; }

/* Card Principal */
.card { max-width:700px; margin:0 auto; background:#fff; border-radius:16px; padding:24px; box-shadow:0 10px 20px rgba(0,0,0,0.1); }
.input-group { margin-bottom:8px; } 

input { 
    width:100%; padding:14px; border:1px solid #d1d5db; border-radius:8px; font-size:1rem; 
    transition: border-color 0.3s;
}
input:focus { border-color: #facc15; outline: none; }

/* Bot√µes */
.btn-group { display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
button { 
    background-color:#facc15; color:#000; padding:12px 20px; font-size:1rem; 
    border:none; border-radius:8px; cursor:pointer; font-weight:600; 
    transition:background 0.3s, transform 0.1s; flex:1 1 150px; 
}
button:hover { background-color:#eab308; }
button:active { transform: scale(0.98); }
.btn-limpar { background-color:#d946ef !important; color:white !important; }
.btn-limpar:hover { background-color:#c026d3 !important; }

/* Resultado/Sugest√£o */
.result { 
    background:#f3f4f6; margin-top:20px; padding:16px; border-radius:10px; 
    white-space:pre-line; border-left:5px solid #1e3a8a; 
    opacity:0; transform:translateY(20px); 
    transition: opacity 0.5s ease, transform 0.5s ease;
    word-break: break-word; 
}
.result.show { opacity:1; transform:translateY(0); }

/* Mini Preview (Mantenho a classe, mas n√£o ser√° usada na c√≥pia) */
.mini-preview { 
    display:flex; align-items:center; gap:12px; margin-bottom:12px; 
    border-bottom:1px dashed #ccc; padding-bottom:12px; text-decoration:none; 
    color:inherit; 
    opacity:1; transform:translateY(0);
}
.mini-preview-title { font-weight:700; color:#1e3a8a; flex:1; word-wrap:break-word; }

/* Media Queries */
@media (max-width:480px){
  header h1{font-size:1.5rem;}
  input{font-size:0.95rem; padding:12px;}
  .btn-group{flex-direction:column; gap:8px;}
  button{width:100%; flex:none;}
  .produto-item, .mini-preview { flex-direction:column; align-items:flex-start; }
  .produto-item img, .mini-preview img { width:100%; height:auto; }
  .produto-info, .mini-preview-title { width:100%; min-width:auto; }
}
</style>
</head>
<body>

<div id="barraHora"></div>

<header>
  <img src="img/1712155869572-desktophome-mainslider.webp" alt="Logo Mercado Livre">
  <h1>Natal e Ano Novo 2025  #BORA #FAZER $$$</h1>
  <p>Divulga√ß√£o inteligente dos seus links de afiliado</p>
</header>

<div class="card">
  <div class="input-group"><input type="text" id="tituloProduto" placeholder="T√≠tulo do Produto"></div>
  <div class="input-group"><input type="text" id="linkAfiliado" placeholder="Link de afiliado do Mercado Livre"></div>
  <div class="input-group"><input type="text" id="idProduto" placeholder="ID do produto (ex: MLB123456789)"></div>
  <div class="input-group"><input type="text" id="cupomDesconto" placeholder="Cupom de desconto (opcional)"></div>
  <div class="input-group"><input type="number" id="precoAtual" placeholder="Pre√ßo atual (ex: 1899.90)"></div>
  <div class="input-group"><input type="number" id="precoAnterior" placeholder="Pre√ßo anterior (opcional)"></div>

  <div class="btn-group">
    <button onclick="gerarTexto()">üöÄ Gerar texto</button>
    <button onclick="copiarTexto()">üìã Copiar texto</button>
    <button onclick="compartilharWhatsApp()">üí¨ WhatsApp</button>
    <button onclick="limparFormulario()" class="btn-limpar">üßπ Limpar</button>
  </div>

  <div id="sugestao" class="result" style="display:none;"></div>
</div>

<script>
// Atualiza hora e data a cada segundo
function atualizarHora() {
  const barra = document.getElementById('barraHora');
  const agora = new Date();
  const dia = String(agora.getDate()).padStart(2,'0');
  const mes = String(agora.getMonth()+1).padStart(2,'0');
  const ano = agora.getFullYear();
  const horas = String(agora.getHours()).padStart(2,'0');
  const minutos = String(agora.getMinutes()).padStart(2,'0');
  const segundos = String(agora.getSeconds()).padStart(2,'0');
  barra.textContent = `üïí ${dia}/${mes}/${ano} - ${horas}:${minutos}:${segundos}`;
}
setInterval(atualizarHora,1000);
atualizarHora();

// CORRE√á√ÉO: Fun√ß√£o para gerar texto puro e copiar sem quebrar os √≠cones.
function gerarTexto() {
  const titulo = document.getElementById('tituloProduto').value.trim();
  const link = document.getElementById('linkAfiliado').value.trim();
  const idProduto = document.getElementById('idProduto').value.trim().toUpperCase();
  const cupom = document.getElementById('cupomDesconto').value.trim();
  const precoAtual = parseFloat(document.getElementById('precoAtual').value);
  const precoAnterior = parseFloat(document.getElementById('precoAnterior').value);
  const sugestao = document.getElementById('sugestao');

  if(!titulo || !link || !idProduto){ alert('Preencha o t√≠tulo, link e ID do produto.'); return; }

  //const imagem = `https://http2.mlstatic.com/D_NQ_NP_${idProduto}-O.webp`; // N√£o ser√° usada no texto copiado

  let textoHTML = '';
  // Usando asteriscos (*) para simular negrito no texto copiado (WhatsApp/Instagram)
  textoHTML += `*${titulo}*\n\n`; 

  // O mini-preview HTML foi removido para garantir a c√≥pia de texto puro.
  // Se voc√™ deseja um visual na p√°gina, pode adicionar uma tag <div> simples, 
  // mas ela ser√° ignorada na c√≥pia de texto.

  if(cupom){ 
    textoHTML += `üéüÔ∏è Cupom: *${cupom}*\nüü¢ Aproveita esse cupom, ele acabar√° r√°pido!\n\n`; 
  } else{ 
    textoHTML += `üü° No momento n√£o tem cupom.\n\n`; 
  }
  if(!isNaN(precoAtual) && precoAtual>0){
    textoHTML += `üí∞ *Pre√ßo atual:* R$ ${precoAtual.toFixed(2).replace('.',',')}\n`;
    if(!isNaN(precoAnterior) && precoAnterior>precoAtual){
      const economia = precoAnterior - precoAtual;
      const descontoPercentual = (economia/precoAnterior)*100;
      textoHTML += `üìâ *Pre√ßo anterior:* R$ ${precoAnterior.toFixed(2).replace('.',',')}\n`;
      textoHTML += `üî• *Economia:* R$ ${economia.toFixed(2).replace('.',',')} (${descontoPercentual.toFixed(2)}% de desconto)\n`;
    }
  }
  textoHTML += `\nüëâ Link do produto: ${link}\n\nAproveite agora! üöÄ`;

  sugestao.style.display='block';
  // O innerHTML cont√©m o texto e os emojis.
  sugestao.innerHTML = textoHTML;
  setTimeout(()=>{ sugestao.classList.add('show'); },50);
}

// Fun√ß√µes de copiar, compartilhar e limpar
function copiarTexto() { 
    // .textContent garante que apenas o texto puro (com emojis) seja copiado
    const texto = document.getElementById('sugestao').textContent; 
    navigator.clipboard.writeText(texto); 
    alert('Texto copiado!'); 
}
function compartilharWhatsApp() { 
    const texto = document.getElementById('sugestao').textContent; 
    window.open(`https://wa.me/?text=${encodeURIComponent(texto)}`,'_blank'); 
}
function limparFormulario() { 
    document.getElementById('tituloProduto').value=''; 
    document.getElementById('linkAfiliado').value=''; 
    document.getElementById('idProduto').value=''; 
    document.getElementById('cupomDesconto').value=''; 
    document.getElementById('precoAtual').value=''; 
    document.getElementById('precoAnterior').value=''; 
    document.getElementById('sugestao').classList.remove('show'); 
    setTimeout(()=>{document.getElementById('sugestao').style.display='none';},500); 
}

// Listener para extrair ID automaticamente
document.getElementById('linkAfiliado').addEventListener('blur',function(){
  const link=this.value; 
  let idExtraido = link.match(/MLB\d{9}/i); 
  if(!idExtraido){ idExtraido = link.match(/\d{10}/); }
  if(idExtraido){ const finalId = idExtraido[0].startsWith('MLB') ? idExtraido[0].toUpperCase() : 'MLB'+idExtraido[0]; document.getElementById('idProduto').value=finalId; }
});
</script>
</body>
</html>


