<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>#AFILIADOS MERCADO LIVRE - MARANHÃƒO</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; font-family: 'Inter', sans-serif; }
body { 
    margin: 0; 
    background: #fefce8; 
    color: #1f2937; 
    padding: 20px 20px 80px 20px; 
}

/* Barra neon */
#barraHora {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  padding: 10px 0;
  background: #000;
  text-align: center;
  font-size: 1.2rem;
  font-weight: bold;
  color: #ffff00;
  text-shadow: 0 0 5px #ffff00, 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #ffff00;
  z-index: 999;
  animation: neonGlow 1.5s ease-in-out infinite alternate;
}

@keyframes neonGlow {
  0% { text-shadow: 0 0 5px #ffff00, 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #ffff00; }
  50% { text-shadow: 0 0 10px #ffff00, 0 0 15px #00f, 0 0 25px #00f, 0 0 35px #ffff00; }
  100% { text-shadow: 0 0 5px #ffff00, 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #ffff00; }
}

/* CabeÃ§alho */
header { text-align:center; margin:60px 0 30px 0; }
header img { max-width:100%; border-radius:10px; }
header h1 { font-size:1.8rem; color:#1e3a8a; margin:10px 0 0; }
header p { color:#374151; margin-top:5px; }

/* Card */
.card { 
  max-width:700px; 
  margin:0 auto; 
  background:#fff; 
  border-radius:16px; 
  padding:24px; 
  box-shadow:0 10px 20px rgba(0,0,0,0.1); 
}
.input-group { margin-bottom:10px; }

input { 
  width:100%; padding:14px; border:1px solid #d1d5db; border-radius:8px; 
  transition:border-color .3s;
}
input:focus { border-color:#facc15; outline:none; }

/* BotÃµes */
.btn-group { display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
button { 
  flex:1 1 150px;
  background:#facc15; 
  padding:12px; 
  border:none;
  border-radius:8px; 
  font-weight:600;
  cursor:pointer;
  transition:background .3s, transform .1s;
}
button:hover { background:#eab308; }
button:active { transform:scale(.97); }
.btn-limpar { background:#d946ef !important; color:white !important; }
.btn-limpar:hover { background:#c026d3 !important; }

/* Resultado */
.result { 
  background:#f3f4f6; 
  margin-top:20px; 
  padding:16px; 
  border-radius:10px; 
  white-space:pre-line; 
  border-left:5px solid #1e3a8a; 
  opacity:0; 
  transform:translateY(20px); 
  transition:opacity 0.5s, transform 0.5s; 
  word-break:break-word;
  display:none;
}
.result.show { opacity:1; transform:translateY(0); }

/* Caixa de aviso */
#caixaAviso {
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -55%);
  background:#fff;
  width:90%;
  max-width:350px;
  padding:20px;
  border-radius:12px;
  box-shadow:0 0 20px rgba(0,0,0,0.25);
  z-index:10000;
  display:none;
  animation:fadeIn .4s ease;
}
#caixaAviso h2 { margin-top:0; color:#1e3a8a; }
#fecharAviso {
  position:absolute; top:10px; right:14px;
  font-size:20px;
  cursor:pointer;
  color:#555;
}
#botaoSalvarNome {
  width:100%; margin-top:12px; padding:12px;
  background:#facc15; border:none; font-weight:bold;
  border-radius:8px; cursor:pointer;
}

@keyframes fadeIn {
  from { opacity:0; transform:translate(-50%, -60%); }
  to { opacity:1; transform:translate(-50%, -55%); }
}

/* RodapÃ© fixo */
.footer-nav {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  min-height: 60px;
  background: #1f2937;
  color: #fff;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 10px 0;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
  z-index: 1000;
}

.footer-icon a {
  color:white;
  font-size:1.6rem;
  text-decoration:none;
  transition:transform .2s;
}
.footer-icon a:hover {
  transform:scale(1.1);
  color:#facc15;
}
.icon-whatsapp { color:#25D366; }
.icon-instagram { color:#E4405F; }
.icon-youtube { color:#FF0000; }
.icon-mercadolivre { color:#FFE600; }

@media (max-width:480px){
  header h1{font-size:1.5rem;}
  button{width:100%; flex:none;}
}
</style>
</head>

<body>

<div id="barraHora"></div>

<!-- Caixa de aviso -->
<div id="caixaAviso">
  <span id="fecharAviso">âœ–</span>
  <h2>Bem-vindo!</h2>
  <p>Qual Ã© o seu nome?</p>
  <input type="text" id="nomeUsuario" placeholder="Digite seu nome">
  <button id="botaoSalvarNome">Salvar</button>
</div>

<header>
  <img src="img/1712155869572-desktophome-mainslider.webp" alt="Banner">
  <h1>Natal e Ano Novo 2025  #BORA #FAZER $$$</h1>
  <p>DivulgaÃ§Ã£o inteligente dos seus links de afiliado</p>
</header>

<div class="card">
  <div class="input-group"><input type="text" id="tituloProduto" placeholder="TÃ­tulo do Produto"></div>
  <div class="input-group"><input type="text" id="linkAfiliado" placeholder="Link de afiliado do Mercado Livre"></div>
  <div class="input-group"><input type="text" id="idProduto" placeholder="ID do produto (ex: MLB123456789)"></div>
  <div class="input-group"><input type="text" id="cupomDesconto" placeholder="Cupom de desconto (opcional)"></div>
  <div class="input-group"><input type="number" id="precoAtual" placeholder="PreÃ§o atual"></div>
  <div class="input-group"><input type="number" id="precoAnterior" placeholder="PreÃ§o anterior (opcional)"></div>

  <div class="btn-group">
    <button onclick="gerarTexto()">ðŸš€ Gerar texto</button>
    <button onclick="copiarTexto()">ðŸ“‹ Copiar texto</button>
    <button onclick="compartilharWhatsApp()">ðŸ’¬ WhatsApp</button>
    <button onclick="limparFormulario()" class="btn-limpar">ðŸ§¹ Limpar</button>
  </div>

  <div id="sugestao" class="result"></div>
</div>

<footer class="footer-nav">
  <div class="footer-icon"><a href="https://chat.whatsapp.com/LW63AlLmDFtKdZDWFJUGBn" target="_blank"><i class="fab fa-whatsapp icon-whatsapp"></i></a></div>
  <div class="footer-icon"><a href="https://www.instagram.com/paulovenicio/" target="_blank"><i class="fab fa-instagram icon-instagram"></i></a></div>
  <div class="footer-icon"><a href="https://www.youtube.com/@CarvalhoMTV" target="_blank"><i class="fab fa-youtube icon-youtube"></i></a></div>
  <div class="footer-icon"><a href="https://mercadolivre.com/sec/28yZeye" target="_blank"><i class="fas fa-shopping-cart icon-mercadolivre"></i></a></div>
</footer>

<script>
/* Barra de data/hora */
function atualizarHora(){
  const barra = document.getElementById("barraHora");
  const agora = new Date();
  const formato = agora.toLocaleDateString("pt-BR");
  const hora = agora.toLocaleTimeString("pt-BR");
  barra.textContent = `ðŸ•’ ${formato} - ${hora}`;
}
setInterval(atualizarHora,1000);
atualizarHora();

/* SaudaÃ§Ã£o */
function obterSaudacao(){
  const h = new Date().getHours();
  if(h < 12) return "Bom dia";
  if(h < 18) return "Boa tarde";
  return "Boa noite";
}

function iniciarAviso(){
  const nome = localStorage.getItem("nomeVisitante");
  if(!nome){
    document.getElementById("caixaAviso").style.display = "block";
  } else {
    alert(`${obterSaudacao()}, ${nome}!`);
  }
}

document.getElementById("botaoSalvarNome").onclick = () => {
  const nome = document.getElementById("nomeUsuario").value.trim();
  if(nome.length < 2){ alert("Digite um nome vÃ¡lido."); return; }
  localStorage.setItem("nomeVisitante", nome);
  document.getElementById("caixaAviso").style.display = "none";
  alert(`${obterSaudacao()}, ${nome}!`);
};

document.getElementById("fecharAviso").onclick = () => {
  document.getElementById("caixaAviso").style.display = "none";
};

window.onload = iniciarAviso;

/* Gerador de texto */
function gerarTexto(){
  const titulo = tituloProduto.value.trim();
  const link = linkAfiliado.value.trim();
  const id = idProduto.value.trim();
  const cupom = cupomDesconto.value.trim();
  const atual = parseFloat(precoAtual.value);
  const anterior = parseFloat(precoAnterior.value);
  const saida = document.getElementById("sugestao");

  if(!titulo || !link || !id){ alert("Preencha tÃ­tulo, link e ID."); return; }

  let texto = `*${titulo}*\n\n`;

  if(cupom){
    texto += `ðŸŽŸï¸ Cupom: *${cupom}*\nðŸŸ¢ Aproveita esse cupom, ele acabarÃ¡ rÃ¡pido!\n\n`;
  } else texto += `ðŸŸ¡ No momento nÃ£o tem cupom.\n\n`;

  if(!isNaN(atual) && atual > 0){
    texto += `ðŸ’° *PreÃ§o atual:* R$ ${atual.toFixed(2).replace('.',',')}\n`;

    if(!isNaN(anterior) && anterior > atual){
      const econ = anterior - atual;
      const perc = (econ / anterior) * 100;
      texto += `ðŸ“‰ *PreÃ§o anterior:* R$ ${anterior.toFixed(2).replace('.',',')}\n`;
      texto += `ðŸ”¥ *Economia:* R$ ${econ.toFixed(2).replace('.',',')} (${perc.toFixed(2)}%)\n`;
    }
  }

  texto += `\nðŸ‘‰ Link do produto: ${link}\n\nAproveite agora! ðŸš€`;

  saida.innerText = texto;
  saida.style.display = "block";
  setTimeout(()=>saida.classList.add("show"),50);
}

function copiarTexto(){
  navigator.clipboard.writeText(sugestao.innerText);
  alert("Texto copiado!");
}

function compartilharWhatsApp(){
  window.open(`https://wa.me/?text=${encodeURIComponent(sugestao.innerText)}`, "_blank");
}

function limparFormulario(){
  tituloProduto.value="";
  linkAfiliado.value="";
  idProduto.value="";
  cupomDesconto.value="";
  precoAtual.value="";
  precoAnterior.value="";
  sugestao.classList.remove("show");
  setTimeout(()=>sugestao.style.display="none",500);
}

linkAfiliado.addEventListener("blur", () => {
  const link = linkAfiliado.value;
  let id = link.match(/MLB\d{9}/i);
  if(!id) id = link.match(/\d{10}/);
  if(id){
    let finalId = id[0];
    if(!finalId.startsWith("MLB")) finalId = "MLB" + finalId;
    idProduto.value = finalId.toUpperCase();
  }
});
</script>

</body>
</html>
